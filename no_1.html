<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="css/fontello.css">
    <style>
        @import url("no_1.css");
    </style>
</head>
<body>
    <div class="wrapper">
        <div class="iphone">
            <div class="circle"></div>
            <div class="camera"></div>
            <div class="speaker"></div>
            <div class="highlight">
                <img src="hi2.jpg" alt="">
            </div>
            <div class="home"></div>
        </div>
        <div class="iphone2">
            <div class="circle2"></div>
            <div class="camera2"></div>
            <div class="speaker2"></div>
            <div class="highlight2">
                <img src="hi.jpg" alt="">
            </div>
            <div class="home2"></div>
        </div>
        <div class="total">
            <div class="container">
                <h1 id="insta">Instagram</h1>
                <form method="POST" action="http://localhost:3000/login" name="f1">
                    <p><input class="id_txt" id="id" name="id" type="id" placeholder="전화번호, 사용자 이름 또는 이메일"></p>
                    <p><input class="pwd" id="pwd" name="password" type="password" placeholder="비밀번호" onfocus="seon()"></p>
                    <p><input class="button" id="button" type="button" value="로그인" onclick="login_click()" onfocus="seon()" disabled="disabled"></a></p>
                </form>
                <span class="hi">----------------- 또는 ----------------</span>
                <p><a href="https://www.facebook.com/login">Facebook으로 로그인
                    </a></p>
                <p id="hello"><a href="https://www.instagram.com/accounts/password/reset/">비밀번호를 잊으셨나요?</a></p>
            </div>
            <div class="container2">
                <span>계정이 없으신가요?</span>
                <a href="https://www.instagram.com/accounts/emailsignup/" class="gaip">가입하기</a>
            </div>
            <p id="text">앱을 다운로드하세요.</p>
            <img class="appstore" src="appstore.png">
            <img class="googleplay" src="googleplay.png">
        </div>
    </div>
    <footer>
        <div class="footer">
            <ul>
                <li>소개</li>
                <li>도움말</li>
                <li>홍보 센터</li>
                <li>API</li>
                <li>채용 정보</li>
                <li>개인정보처리방침</li>
                <li>약관</li>
                <li>위치</li>
                <li>인기 계정</li>
                <li>해시태그</li>
                <li>언어</li>
                <li id="last">ⓒ2020 INSTAGRAM FROM</li>
            </ul>
        </div>
    </footer>
</body>
<script>
    var form = document.querySelector("form");
    form.addEventListener("button",login_click);
    async function login_click(){
        let user={
        id:document.getElementById("id").value,
        pwd:document.getElementById("pwd").value
    }
        fetch('http://localhost:3000/login',{
           method:'POST',
           headers:{
               'Content-Type':'application/json;charset=utf-8'
           },
           body:JSON.stringify(user)
        })
        .then(function(response){
            
            return response.json();
        })
        .then(function(user){ //response 로 바꿔도 노상관.
            console.log(user);
        });
        localStorage.setItem("userInfo",JSON.stringify(user));
        location.href='mypage2.html';
   }
function seon(){
    var but = document.querySelector("#button");
    var id = document.querySelector("#id").value;
    var pwd = document.querySelector("#pwd").value;
    if(id.length>0&&pwd.length>6){
        but.style.backgroundColor="rgb(0,149,246)";
    }
    else{
        but.style.backgroundColor="rgba(0,149,249,0.2)";
    }
    setTimeout("seon()" ,0);
}
</script>
</html>